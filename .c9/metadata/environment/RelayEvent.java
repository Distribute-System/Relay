{"changed":true,"filter":false,"title":"RelayEvent.java","tooltip":"/RelayEvent.java","value":"\n\nimport org.json.*;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.LinkedList;\n\n\npublic class RelayEvent extends CarEvent\n{\n\tprotected static final String EVENTLIST = \"EVENTLIST\";\n\tprotected static final String CLIENTID = \"CLIENTID\";\n\tprotected static final String REQNO = \"REQNO\";\n\tprotected static final String IPADDR = \"IPADDR\";\n\tprotected static final String SERVERID = \"SERVERID\";\n\tprotected static final String PORTNUM = \"PORTNUMB\";\n\n\tpublic RelayEvent()\n\t{\n\t\tsuper();\n\t}\n\t\n\tpublic RelayEvent(JSONObject temp)\n\t{\n\t\tsuper(temp);\n\t}\n\t\n    boolean putCarEvents(List<CarEvent> carEvents)\n    {\n        JSONArray tempEvents = new JSONArray();\n        \n        for(CarEvent eve: carEvents)\n        {\n            tempEvents.put(eve.jsonObj);\n        }\n        \n        try \n        {\n\t\t\t((JSONObject)jsonObj.get(BODY)).put(EVENTLIST, tempEvents);\n\t\t}\n        catch (JSONException e)\n        {\n\t\t\tSystem.err.println(\"error occurred during putCarEvents\");\n\t\t\te.printStackTrace();\n\t\t\treturn false;\n\t\t}\n        return true;\n    }\n    \n    LinkedList<CarEvent> getCarEvents()\n    {\n    \tLinkedList<CarEvent> retList = new LinkedList<CarEvent>();\n    \t\n    \ttry \n    \t{\n    \t\tJSONObject body = jsonObj.getJSONObject(BODY);\n    \t\tJSONArray tempArr = body.getJSONArray(EVENTLIST);\n    \t\t\n    \t\tCarEvent temp;\n    \t\t\n    \t\tfor(int ind = 0; ind < tempArr.length(); ind++)\n    \t\t{\n    \t\t\ttemp = new CarEvent(tempArr.getJSONObject(ind));\n    \t\t\tif(!temp.isEmpty())\n    \t\t\t{\n    \t\t\t\tretList.add(temp);\n    \t\t\t}\n    \t\t}\n    \t}\n    \tcatch(JSONException e)\n    \t{\n    \t\tSystem.err.println(\"error occurred in getCarEvents()\");\n    \t\tSystem.err.println(e);\n    \t\t\n    \t}\n    \t\n    \treturn retList;\n    }\n    \n    boolean putClientId(List<String> clientId)\n    {\n    \ttry \n    \t{\n    \t\tJSONObject body = jsonObj.getJSONObject(BODY);\n    \t\tJSONArray tempArr  = new JSONArray();\n    \t\t\n    \t\tfor(String temp: clientId)\n    \t\t{\n    \t\t\tif(temp != null)\n    \t\t\t{\n    \t\t\t\ttempArr.put(temp);\n    \t\t\t}\n    \t\t\t\n    \t\t}\n    \t\t\n    \t\tbody.put(CLIENTID, tempArr);\n    \t\treturn true;\n \n    \t}\n    \tcatch(JSONException e)\n    \t{\n    \t\tSystem.err.println(\"error occurred in putClientId()\");\n    \t\tSystem.err.println(e);\n    \t\t\n    \t}\n    \t\n    \treturn false;\n    }\n    \n    LinkedList<String> getClientId()\n    {\n    \tLinkedList<String> retList = new LinkedList<String>();\n    \t\n    \ttry \n    \t{\n    \t\t\n    \t\tJSONObject body = jsonObj.getJSONObject(BODY);\n    \t\tJSONArray clientArr = body.getJSONArray(CLIENTID);\n    \t\tfor(int ind = 0; ind < clientArr.length(); ind++)\n    \t\t{\n    \t\t\ttry \n    \t\t\t{\n    \t\t\t\tretList.add((String) clientArr.get(ind));\n    \t\t\t}\n    \t\t\tcatch(ClassCastException ex)\n    \t\t\t{\n    \t\t\t\tSystem.err.println(\"failed to cast \" + clientArr.getDouble(ind));\n    \t\t\t}\n    \t\t}\n    \t\t\n    \t}\n    \t\n    \tcatch(JSONException ex)\n    \t{\n    \t\tSystem.err.println(\"error occurred in getClientId() \" + jsonObj);\n    \t\tSystem.err.println(ex);\n    \t}\n    \t\n    \treturn retList;\n    }\n    \n    boolean putReqNo(int reqNo)\n    {\n    \ttry \n    \t{\n    \t\t\n    \t\tJSONObject header = jsonObj.getJSONObject(HEADER);\n    \t\theader.put(REQNO, reqNo);\n    \t\treturn true;\n    \t}\n    \t\n    \tcatch(JSONException ex)\n    \t{\n    \t\tSystem.err.println(\"error occurred in putReqNo \" + jsonObj);\n    \t\tSystem.err.println(ex);\n    \t}\n    \treturn false;\n    }\n    \n    int getReqNo()\n    {\n    \tint reqNo = -1;\n    \ttry \n    \t{\n    \t\tJSONObject header = jsonObj.getJSONObject(HEADER);\n    \t\treqNo = header.getInt(REQNO);\n    \t\t\n    \t}\n    \tcatch(JSONException ex)\n    \t{\n    \t\tSystem.err.println(\"error occurred in getReqNo() \" + jsonObj);\n    \t\tSystem.err.println(ex);\n    \t}\n    \t\n    \treturn reqNo;\n    }\n    \n    boolean putServerId(String serverId)\n    {\n\n    \ttry \n    \t{\n    \t\tJSONObject header = jsonObj.getJSONObject(HEADER);\n    \t\theader.put(SERVERID, serverId);\n    \t\treturn true;\n \n    \t}\n    \tcatch(JSONException e)\n    \t{\n    \t\tSystem.err.println(\"error occurred in putServerId() \" + jsonObj);\n    \t\tSystem.err.println(e);\n    \t\t\n    \t}\n    \t\n    \treturn false;\n    }\n    \n    String getServerId()\n    {\n    \tString serverId = null;\n    \t\n    \ttry \n    \t{\n    \t\tJSONObject header = jsonObj.getJSONObject(HEADER);\n    \t\tserverId = header.getString(SERVERID);\n \n    \t}\n    \tcatch(JSONException e)\n    \t{\n    \t\tSystem.err.println(\"error occurred in getServerId() \" + jsonObj);\n    \t\tSystem.err.println(e);\n    \t\t\n    \t}\n    \t\n    \treturn serverId;\n    \t\n    }\n    \n    boolean putIpAddr(String ipAddr)\n    {\n    \ttry \n    \t{\n    \t\tJSONObject body = jsonObj.getJSONObject(BODY);\n    \t\tbody.put(IPADDR, ipAddr);\n    \t\treturn true;\n \n    \t}\n    \tcatch(JSONException e)\n    \t{\n    \t\tSystem.err.println(\"error occurred in putIpAddr() \" + jsonObj);\n    \t\tSystem.err.println(e);\n    \t\t\n    \t}\n    \t\n    \treturn false;\n    }\n    \n    String getIpAddr()\n    {\n    \tString ipAddr = null;\n    \t\n    \ttry \n    \t{\n    \t\tJSONObject body = jsonObj.getJSONObject(BODY);\n    \t\tipAddr = body.getString(IPADDR);\n \n    \t}\n    \tcatch(JSONException e)\n    \t{\n    \t\tSystem.err.println(\"error occurred in getIpAddr() \" + jsonObj);\n    \t\tSystem.err.println(e);\n    \t\t\n    \t}\n    \t\n    \treturn ipAddr;\n    }\n    \n    boolean putPortNum(int portNum)\n    {\n    \ttry \n    \t{\n    \t\tJSONObject body = jsonObj.getJSONObject(BODY);\n    \t\tbody.put(PORTNUM, portNum);\n    \t\treturn true;\n \n    \t}\n    \tcatch(JSONException e)\n    \t{\n    \t\tSystem.err.println(\"error occurred in putPortNum() \" + jsonObj);\n    \t\tSystem.err.println(e);\n    \t\t\n    \t}\n    \t\n    \treturn false;\n    }\n    \n    int getPortNum()\n    {\n    \tint portNumb = -1;\n    \ttry \n    \t{\n    \t\tJSONObject body = jsonObj.getJSONObject(BODY);\n    \t\tportNumb = body.getInt(PORTNUM);\n \n    \t}\n    \tcatch(JSONException e)\n    \t{\n    \t\tSystem.err.println(\"error occurred in getPortNum() \" + jsonObj);\n    \t\tSystem.err.println(e);\n    \t\t\n    \t}\n    \t\n    \treturn portNumb;\n    }\n    \n}","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":295,"column":4},"end":{"row":319,"column":5},"action":"remove","lines":["public static void main(String [] args)","    {","    \tRelayEvent a = new RelayEvent();","    \tArrayList<CarEvent> list = new ArrayList<CarEvent>();","    \tArrayList<String> clientEv = new ArrayList<String>();","    \t","    \tfor(int i = 0; i < 5; i++)","    \t{","    \t\tlist.add(new CarEvent());","    \t\tclientEv.add(\"helo\");","    \t}","    \t","    \ta.putCarEvents(list);","    \ta.putReqNo(0);","    \ta.putClientId(clientEv);","    \ta.putReqNo(1);","    \ta.putPortNum(3);","    \ta.putServerId(\"gala\");","    \ta.putIpAddr(\"192.171.54.1\");","    \tString b = a.getServerId();","    \tSystem.out.println(b);","    \t","    \t","    \tSystem.out.println(a);","    }"],"id":1},{"start":{"row":295,"column":0},"end":{"row":295,"column":4},"action":"remove","lines":["    "]},{"start":{"row":294,"column":4},"end":{"row":295,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":3000,"scrollleft":0,"selection":{"start":{"row":294,"column":4},"end":{"row":294,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":15,"state":"start","mode":"ace/mode/java"}},"timestamp":1622263104431}